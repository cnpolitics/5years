{"version":3,"sources":["../../javascript/_define.js","../../javascript/main.js","../../javascript/ua.js","../../javascript/method/util.js","../../javascript/view/five.js","../../javascript/view/home.js"],"names":["CNP","util","$body","doc","getElementsByTagName","addEventListener","ua","navigator","userAgent","$html","uaRegExp","RegExp","UA_LIST","i","classList","add","target","Math","round","duration","Promise","reject","element","scrollTop","resolve","end_time","start_time","distance","start_top","smooth_step","start","end","point","x","previous_top","scroll_frame","now","Date","frameTop","setTimeout","e","style","overflowY","removeEventListener","fixSafariScrollY","$fiveMain","querySelector","className","$fiveSign","backHome","scroll","then","$board1","switchToEntry1","alert","showEntry2","$entry1","showEntry1","$entry2"],"mappings":"AAGA,GAAMA,KAAMA,OAGZA,KAAIC,mBCNH,4BAKAC,EAAAC,EAAAC,qBAAA,QAAA,EACAF,GAAIG,iBAAY,aAAqB,iBAGrC,WCTA,iEAKMC,EAAAC,UAAWC,UACbC,EAAKN,EAAAC,qBAAT,QAAA,uBAGA,GAAKM,GAAW,GAAIC,QAAAC,EAApBC,gBAGCJ,EAAOK,UAAMC,IAAT,MAAoBH,EAAAC,mBCVzB,gDAgBE,GAFDG,EAAQC,KAAAC,MAAAF,GACPG,EAASF,KAAKC,MAAMC,GACpBA,EAAW,EACX,MAAIC,SAAJC,OAAkB,eAEjB,IAAA,IAAAF,EAEA,MADDG,GAAIC,UAAgBP,EACnBI,QAAQI,2BAILC,EAAAC,EAAJP,gBAGIQ,EAAAX,EAAoBY,EAGxBC,EAAA,QAAAA,GAAAC,EAAAC,EAAAC,GACA,GAAIA,GAAAF,EACH,MAAI,EAA6B,IAAAE,GAAAD,EACjC,MAAI,EAA2B,IAAAE,IAAAD,EAAAF,IAAAC,EAAAD,EAC/B,OAAIG,GAAKA,GAAA,EAAQ,EAATA,qCAMR,GAAAC,GAAAZ,EAAAC,UAGAY,EAAA,QAAAA,KACA,GAAIb,EAAAC,WAAeW,EAEjB,WADDb,GAAI,cAKJ,IAAAe,GAAAC,KAAAD,MACIJ,EAAMH,EAAVH,EAAAD,EAAAW,GACIE,EAAQrB,KAAAC,MAAYU,EAAYD,EAAxBK,EAIZ,OAHAV,GAAIC,UAAgBe,EAGpBF,GAAAX,MACAD,KAOAF,EAAAC,YAAAW,GAAAZ,EAAAC,YAAAe,MACAd,MAICU,EAAAZ,EAAAC,cAGDgB,YAAAJ,EAAA,IAIDI,YAAAJ,EAAA,qCASDK,EAAAxB,OAAAyB,MAAAC,UAAA,SACAH,WAAS,WACTC,EAAAxB,OAAAyB,MAAWC,UAAW,GACrBF,EAAExB,OAAO2B,oBAAT,gBAAA3C,IAAAC,KAAA2C,oCC3FH,4BAGI1C,EAAMC,EAAAC,qBAAV,QAAA,GACIyC,EAAY1C,EAAA2C,cAAA,6BAGhB5C,EAAI6C,UAAW,QAAfC,EAAA7C,EAAA2C,cAAA,aAGAE,GAAI3C,iBAAgB,QAAc4C,sBAGlCjD,IAAIC,KAAAiD,OAAAL,EAAiB,EAAjB,KAAAM,KAAA,WACHjD,EAAI6C,UAAY,gBADjBK,EAAAjD,EAAA2C,cAAA,2BAMAM,GAAI/C,iBAAc,QAAcgD,MAGhC,WCtBA,4BAGInD,EAAMC,EAAAC,qBAAV,QAAA,GACIyC,EAAY1C,EAAA2C,cAAA,6BAGhBQ,MAAI,WAAJC,EAAA,QAAAA,KAGArD,EAAIY,UAAaC,IAAA,QAChB8B,EAAMxC,iBAAN,gBAAAL,IAAAC,KAAA2C,sDAIDY,GAAInD,iBAAc,QAAcoD,0CAGhCC,GAAIrD,iBAAc,QAAckD","file":"app.js","sourcesContent":["/* global fetch */\n\n// Global namespace for the New Money QA app\nconst CNP = CNP || {};\n\n// Sub-namespace for the util methods\nCNP.util = {};\n","(function() {\n\t'use strict';\n\t\n\tlet doc = document;\n\t\n\t// Enable the CSS `:active` interactions\n\tlet $body = doc.getElementsByTagName('body')[0];\n\t$body.addEventListener('touchstart', function(){});\n\n})();\n","(function() {\n\t'use strict';\n\t\n\tlet doc = document;\n\t\n\tconst UA_LIST = ['iPhone', 'iPad', 'MQQBrowser'];\n\tlet ua = navigator.userAgent;\n\tlet $html = doc.getElementsByTagName('html')[0];\n\t\n\tfor (let i = 0; i < UA_LIST.length; i++) {\n\t\tlet uaRegExp = new RegExp(UA_LIST[i]);\n\t\t\n\t\tif (ua.match(uaRegExp)) {\n\t\t\t$html.classList.add('ua-' + UA_LIST[i]);\n\t\t}\n\t}\n\n})();\n","/*global Promise */\n\n(function() {\n\t'use strict';\n\t\n\tCNP.util = {\n\t\t/**\n\t\t * Smoothy scrolling\n\t\t * \n\t\t * Ref: https://coderwall.com/p/hujlhg/smooth-scrolling-without-jquery\n\t\t * \n\t\t * @param {Object} element - The scrolled element\n\t\t * @param {Number} target - Target `scrollTop` value\n\t\t * @param {Number} duration - Scrolling duration\n\t\t * @returns {Promise} A Promise object after scroll ending\n\t\t */\n\t\tscroll: function(element, target, duration) {\n\t\t\ttarget = Math.round(target);\n\t\t\tduration = Math.round(duration);\n\t\t\tif (duration < 0) {\n\t\t\t\treturn Promise.reject(\"bad duration\");\n\t\t\t}\n\t\t\tif (duration === 0) {\n\t\t\t\telement.scrollTop = target;\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\tvar start_time = Date.now();\n\t\t\tvar end_time = start_time + duration;\n\n\t\t\tvar start_top = element.scrollTop;\n\t\t\tvar distance = target - start_top;\n\n\t\t\t// based on http://en.wikipedia.org/wiki/Smoothstep\n\t\t\tvar smooth_step = function (start, end, point) {\n\t\t\t\tif (point <= start) { return 0; }\n\t\t\t\tif (point >= end) { return 1; }\n\t\t\t\tvar x = (point - start) / (end - start); // interpolation\n\t\t\t\treturn x * x * (3 - 2 * x);\n\t\t\t}\n\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t// This is to keep track of where the element's scrollTop is\n\t\t\t\t// supposed to be, based on what we're doing\n\t\t\t\tvar previous_top = element.scrollTop;\n\n\t\t\t\t// This is like a think function from a game loop\n\t\t\t\tvar scroll_frame = function () {\n\t\t\t\t\tif (element.scrollTop != previous_top) {\n\t\t\t\t\t\treject(\"interrupted\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// set the scrollTop for this frame\n\t\t\t\t\tvar now = Date.now();\n\t\t\t\t\tvar point = smooth_step(start_time, end_time, now);\n\t\t\t\t\tvar frameTop = Math.round(start_top + (distance * point));\n\t\t\t\t\telement.scrollTop = frameTop;\n\n\t\t\t\t\t// check if we're done!\n\t\t\t\t\tif (now >= end_time) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we were supposed to scroll but didn't, then we\n\t\t\t\t\t// probably hit the limit, so consider it done; not\n\t\t\t\t\t// interrupted.\n\t\t\t\t\tif (element.scrollTop === previous_top\n\t\t\t\t\t\t&& element.scrollTop !== frameTop) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tprevious_top = element.scrollTop;\n\n\t\t\t\t\t// schedule next frame for execution\n\t\t\t\t\tsetTimeout(scroll_frame, 0);\n\t\t\t\t}\n\n\t\t\t\t// boostrap the animation process\n\t\t\t\tsetTimeout(scroll_frame, 0);\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * Ref: http://stackoverflow.com/a/28389320/3253041\n\t\t */\n\t\tfixSafariScrollY: function(e) {\n\t\t\t// console.log('fix');\n\t\t\te.target.style.overflowY = 'hidden';\n\t\t\tsetTimeout(function() {\n\t\t\t\te.target.style.overflowY = '';\n\t\t\t\te.target.removeEventListener('transitionend', CNP.util.fixSafariScrollY);\n\t\t\t});\n\t\t}\n\t};\n\n})();\n","(function() {\n\t'use strict';\n\n\tlet doc = document;\n\tlet $body = doc.getElementsByTagName('body')[0];\n\tlet $fiveMain = doc.querySelector('.five-main');\n\t\n\tlet backHome = function () {\n\t\t$body.className = 'home';\n\t};\n\tlet $fiveSign = doc.querySelector('.five-sign');\n\t$fiveSign.addEventListener('click', backHome);\n\n\tlet switchToEntry1 = function () {\n\t\tCNP.util.scroll($fiveMain, 0, 2000)\n\t\t.then(function(){\n\t\t\t$body.className = 'home eight';\n\t\t});\n\t};\n\tlet $board1 = doc.querySelector('.five-main .signboard--1');\n\t$board1.addEventListener('click', switchToEntry1);\n\n})();\n","(function() {\n\t'use strict';\n\t\n\tlet doc = document;\n\tlet $body = doc.getElementsByTagName('body')[0];\n\tlet $fiveMain = doc.querySelector('.five-main');\n\t\n\tlet showEntry1 = function() {\n\t\talert('entry1');\n\t};\n\tlet showEntry2 = function() {\n\t\t$body.classList.add('five');\n\t\t$fiveMain.addEventListener('transitionend', CNP.util.fixSafariScrollY);\n\t};\n\t\n\tlet $entry1 = doc.querySelector('.home-entry--1');\n\t$entry1.addEventListener('click', showEntry1);\n\t\n\tlet $entry2 = doc.querySelector('.home-entry--2');\n\t$entry2.addEventListener('click', showEntry2);\n\n})();\n"]}